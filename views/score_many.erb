  
<h2>Score Many Words</h2>

<%# display scored used words %>
<% if @user_words %>
  <% scores = @user_words.score_many %>
  <% each_letter_points = @user_words.points_many_words %>

  <% words = params["words"] %>
  <% words.zip(scores).each do |word , score| %>
    <% next if word.empty? %>
      <%= "#{word.upcase} has a score of #{score}." %>
        <ul>
          <% each_letter_points[word].each do |letter, points| %>
            <li class="letter-tile"><span class="letter"><%= letter.upcase %></span><span class="points"><%= points %></span></li>
          <% end %>
            <li><%= "50 point 7-letter bonus!" if word.length == 7 %></li>
        </ul>
  <% end %>
  <a href="/score-many">Start Over</a>
<% end %>

<%# display prompt for user word input %>
<% if @quantity && !@user_words %>
<form action="" method="post" accept-charset="utf-8">

  <% @quantity.times do |word_input| %>
    <label class="new-line">Word<input type="text" name="words[]" maxlength=7 value="" class="labeled"></b></label>
  <% end %>
  <input type="submit" value="Score">
</form>
<% end %>

<%# prompt user for number of words to score %>
<% if !@user_words && !@quantity %>
  <form action="" method="post">
    Number of words to score:
    <input type="number" name="quantity" min="1">
    <input type="submit" value="Go!">
  </form>
<% end %>
